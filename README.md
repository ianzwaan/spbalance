# spbalance

A (square) matrix is called unbalanced when there is a large difference
between the row and column norms. Balancing an unbalanced matrix may
improve the accuracy of computed eigenvalues. `spbalance` attempts to
bring the row and column norms of a matrix closer together with a
similarity transformation consisting of a permutation followed by a
diagonal scaling. The scaling uses powers of two to avoid rounding
errors.


## Download and installation

`spbalance` is written in C89 and _should_ compile with any modern C
compiler that is configured to work with MEX. For instructions on how to
configure MEX, [see the official documentation][mex].

Once MEX is properly set up, executing the following code in MATLAB is
the easiest way to download and install spbalance.

```
url = 'https://github.com/ianzwaan/spbalance/archive/master.zip';
usr = strtok(userpath, pathsep);
dir = fullfile(usr, 'spbalance');
unzip(url, usr); cd(dir);
mex -largeArrayDims mexspbalance.c;
addpath(dir); savepath;
```

Alternatively, manually download spbalance, extract the files, and build
the MEX-file using the supplied Makefile or by executing

```
mex -largeArrayDims mexspbalance.c
```

in the correct folder.


## Usage

`B = spbalance(A)` returns the balanced matrix `B`.

`[T, B] = spbalance(A)` returns the transformation matrix `T` and the
balanced matrix `B` such that `B = T\A*T`.


## License

`spbalance` is released under the [Boost Software License][bsl], which
is similar to the MIT License, but does not require that the license
appear with executables or other binary uses.


### Boost Software License - Version 1.0 - August 17th, 2003

> Permission is hereby granted, free of charge, to any person or
> organization obtaining a copy of the software and accompanying
> documentation covered by this license (the "Software") to use,
> reproduce, display, distribute, execute, and transmit the Software,
> and to prepare derivative works of the Software, and to permit
> third-parties to whom the Software is furnished to do so, all subject
> to the following:
> 
> The copyright notices in the Software and this entire statement,
> including the above license grant, this restriction and the following
> disclaimer, must be included in all copies of the Software, in whole
> or in part, and all derivative works of the Software, unless such
> copies or derivative works are solely in the form of
> machine-executable object code generated by a source language
> processor.
>
> THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
> EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
> MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND
> NON-INFRINGEMENT. IN NO EVENT SHALL THE COPYRIGHT HOLDERS OR ANYONE
> DISTRIBUTING THE SOFTWARE BE LIABLE FOR ANY DAMAGES OR OTHER
> LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT
> OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
> THE SOFTWARE.


[bsl]: www.boost.org/users/license.html
[mex]: mathworks.com/help/matlab/ref/mex.html
